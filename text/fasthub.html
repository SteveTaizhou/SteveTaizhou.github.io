<!DOCTYPE html>
<html lang="zh">


<head>
    <meta charset="utf-8">
    <title>GitHub加速下载 | Steve的小工具网站</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.2/gitalk.min.css">
    <link rel="stylesheet" href="/css/heads.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.2/gitalk.min.js"></script>
    <script type="text/javascript">
        const url = [
            "https://gcore.jsdelivr.net/gh/",
            "https://gh.gh2233.ml/https://github.com/",
            "https://ghproxy.com/https://github.com/"
        ]
        function output(url) {
            var elem = document.getElementById("link");
            elem.href = url;
            elem.innerHTML = url.replace("https://", "");
        }
        function generate() {
            var input = document.getElementById("url").value;
            var type;
            var server;
            if (document.getElementById("t").checked) {
                if (input.indexOf("/release/") != -1) {
                    type = 1;
                }
                else {
                    type = 0;
                }
            }
            else {
                if (document.getElementById("t1").checked) {
                    type = 0;
                }
                else {
                    type = 1;
                }
            }
            for (let i = 1; i <= url.length; i++) {
                if (document.getElementById("s" + i).checked) {
                    server = i - 1;
                    break;
                }
            }
            if (url[server].indexOf("jsdelivr.net") != -1) {
                if (type == 1) {
                    alert("该加速源不支持发行版！")
                }
                else {
                    input = url[server] + input.replace("https://github.com/", "");
                    input = input.replace("/blob/", "@");
                    output(input);
                }
            }
            else {
                output(url[server] + input.replace("https://github.com/", ""));
            }
        }
    </script>
</head>

<body>
    <header id="headers">
    </header>
    <div id="basic"></div>
    <h1>GitHub加速下载</h1>
    <p>
        请选择加速源：<br>
        <input type="radio" name="server" id="s1" checked>gcore.jsdelivr.net 缓存有 速度快 不支持发行版<br>
        <input type="radio" name="server" id="s2">gh.gh2233.ml 速度中<br>
        <input type="radio" name="server" id="s3">ghproxy.com 速度快<br>
    </p>
    <p>
        请选择类型：<br>
        <input type="radio" name="type" id="t" checked>自动<br>
        <input type="radio" name="type" id="t1">仓库内文件<br>
        <input type="radio" name="type" id="t2">发行版<br>
    </p>
    <p>
        请输入地址：<br>
        <input type="url" name="url" id="url">
        <button id="button" onclick="generate()">生成</button>
    <p>
        目标地址：<br>
        <a href="" id="link">暂无</a>
    </p>
    <h2>关于</h2>
    <p>这是一个基于链接生成的GitHub加速下载工具，并不是加速器。
        这个工具的工作原理是对您输入的链接进行分析并且生成加速链接，
        这个加速链接在理论上是可以运行的。<b>Steve纯手打的代码，制作不易</b>！
    </p>
    <p>请<b>务必</b>确保域名是<b>github.com</b>。此外，欢迎安装油猴脚本
        <a
            href="https://greasyfork.org/zh-CN/scripts/412245-github-%E5%A2%9E%E5%BC%BA-%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD">Github
            增强 - 高速下载</a>
    </p>
    <div id="gitalk-container"></div>
    <script src="/js/basicstyle.js" type="text/javascript"></script>
    <script src="/js/heads.js" type="text/javascript"></script>
    <script src="/js/gitalkg.js" type="text/javascript"></script>
</body>

</html>
